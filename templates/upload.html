<!DOCTYPE html>
<meta charset="UTF-8">
<title>ä¸Šä¼ ç”»ä½œ/å›¾çº¸</title>
<style>
body{max-width:600px;margin:30px auto;background:#fdfaff;color:#333}
.box{padding:20px;background:#fff;border-radius:12px}
input,textarea,select,button{width:100%;margin:8px 0;padding:10px;border:1px solid #ddd;border-radius:6px}
button{background:#7e57c2;color:white}
#preview{min-height:100px;border:1px dashed #ccc;padding:10px}
</style>
<div class="box">
  <h3>ğŸ¨ äºŒæ¬¡å…ƒå›¾çº¸ä¸Šä¼ </h3>
  <div id="preview"></div>
  <input type="file" id="file" accept="image/*,.psd,.zip">
  <input type="text" id="title" placeholder="ä½œå“æ ‡é¢˜">
  <select id="category">
    <option value="åŸç”»">åŸç”»</option>
    <option value="äººè®¾">äººè®¾</option>
    <option value="åœºæ™¯">åœºæ™¯</option>
    <option value="å›¾çº¸">å›¾çº¸/çº¿ç¨¿</option>
  </select>
  <input type="text" id="tags" placeholder="æ ‡ç­¾">
  <button onclick="upload()">ä¸Šä¼ ä½œå“</button>
</div>
<script>
document.getElementById('file').addEventListener('change',e=>{
  const f = e.target.files[0]
  if(f.type.startsWith('image/')){
    preview.innerHTML = `<img src="${URL.createObjectURL(f)}" style="max-width:100%">`
  }else{
    preview.innerText = "å·²é€‰ï¼š"+f.name
  }
})
async function upload(){
  const fd = new FormData()
  fd.append('file', file.files[0])
  fd.append('title', title.value)
  fd.append('category', category.value)
  const res = await fetch('/api/upload',{method:'POST',body:fd})
  const data = await res.json()
  alert(data.msg)
}
</script>
